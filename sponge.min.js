function spCurrentPage(){return spRouter.currentPage}function spElement(t){spRouter.switchobj=t}function spDeclareViews(t){spRouter.pages=t}function spActions(t){spRouter.actions=t}function spFetchAll(){const t=Object.entries(spRouter.pages).map(([t,e])=>fetch(e).then(t=>t.ok?t.text():Promise.reject(`Error ${t.status}`)).then(e=>spRouter.content[t]=e).catch(e=>console.error(`Failed to load ${t}:`,e)));return Promise.all(t)}function spSwitch(t){if(t in spRouter.content){if(spRouter.currentPage&&(spRouter.content[spRouter.currentPage]=spRouter.switchobj.innerHTML),t in spRouter.actions)try{spRouter.actions[t]()}catch(t){console.error("Evaluation failed:",t)}spRouter.currentPage=t,spRouter.switchobj.innerHTML=spRouter.content[t]}else console.error(`[Sponge]: Page '${t}' does not have loaded content. Interrupting switch.`)}const spRouter={switchobj:null,pages:{},content:{},actions:{},currentPage:null};